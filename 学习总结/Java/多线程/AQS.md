# AbstractQueueSynchronizer
队列同步器：是构建锁及其他同步工具的基础，支持独占和共享两种模式

- 实现
    
    aqs内部通过一个状态位state和一个fifo队列实现。一般通过继承，实现继承的方法实现同步。

- 同步状态

    使用一个int类型的变量state来表示同步状态
    - 当 state > 0 时表示获取了锁
    - 当 state = 0 时表示释放了锁
    
- 同步队列

    - 当某个线程获取锁失败后，AQS会将线程的信息构成一个 Node 放在队列里，并阻塞线程
    - 当同步状态释放时，会把队列中的节点中的线程唤醒，使其尝试获取同步状态
    - 队列中的addWaiter和enq内部都是使用Unsafe的CAS方法来实现

